---
title: "Results"
editor_options: 
  chunk_output_type: console
---

```{r}
library(quantmod)
library(ggplot2)
load("./data/description.rdata")
```

```{r}
PercentChange <- numeric()
for (st in 1:length(STOCKS)) { # st = 1
    STOCKS[[st]]$Avg = (STOCKS[[st]][, 1] + STOCKS[[st]][, 4])/2
    PercentChange[st] <- with(as.data.frame(STOCKS[[st]]),
                              (Avg[length(Avg)] - Avg[1])*100/Avg[1])
}
names(PercentChange) <- tickers
```

```{r}
# barplot(PercentChange, las = 1)
ggplot(data.frame(PercentChange), aes(x = tickers, y = PercentChange)) + 
    geom_bar(stat = "identity") + 
    xlab("") +
    geom_text(aes(label = round(PercentChange, 1)), 
              color = "white", 
              size = 5,
              position = position_stack(vjust = 0.5)) + 
    theme_light()
```

